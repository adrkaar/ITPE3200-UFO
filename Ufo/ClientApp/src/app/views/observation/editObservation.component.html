<h1>Edit UFO Observation</h1>

<form class="form" [formGroup]="EditObservationForm" #form="ngForm">
    <div class="form-group">
        <label for="id">Id</label>
        <input type="text" formControlName="id" class="form-control" id="id" name="id" [(ngModel)]="editObservation.id" readonly>
    </div>
    <div class="form-group">
        <label for="date">Date</label>
        <input type="date" formControlName="date" class="form-control" id="date" name="date" [(ngModel)]="editObservation.date" max="{{date}}">
        <p *ngIf="this.EditObservationForm.controls.date.status=='INVALID'">Date needs to be in the format DD/MM/YYYY, and cannot be a future date</p>
    </div>
    <div class="form-group">
        <label for="time">Time</label>
        <input type="time" formControlName="time" class="form-control" id="time" name="time" [(ngModel)]="editObservation.time">
        <p *ngIf="this.EditObservationForm.controls.time.status=='INVALID'">Time needs to be in the format HH:MM</p>
    </div>
    <div class="form-group">
        <label for="latitude">Latitude</label>
        <input type="text" formControlName="latitude" class="form-control" id="latitude" name="latitude" [(ngModel)]="editObservation.latitude">
        <p *ngIf="this.EditObservationForm.controls.latitude.status=='INVALID'">Latitude needs to be a number, max 10 characters</p>
    </div>
    <div class="form-group">
        <label for="longitude">Longitude</label>
        <input type="text" formControlName="longitude" class="form-control" id="longitude" name="longitude" [(ngModel)]="editObservation.longitude">
        <p *ngIf="this.EditObservationForm.controls.longitude.status=='INVALID'">Longitude needs to be a number, max 10 characters</p>
    </div>
    <div class="form-group">
        <label for="description">Description</label>
        <textarea type="text" formControlName="description" class="form-control" id="description" name="description" [(ngModel)]="editObservation.description"></textarea>
        <p *ngIf="this.EditObservationForm.controls.description.status=='INVALID'">Description cannot be empty, max 160 characters</p>
    </div>

    <div class="form-group">
        <label for="type">Type</label>
        <select class="form-control" id="type" (change)="selectedOption($event.target.value)">
            <option disabled selected>Select Type</option>
            <option *ngFor="let type of types">{{ type.type }}</option>
            <option>Add new type</option>
        </select>
    </div>
    
    <div *ngIf="addNewType" class="form-group" [innerHtml]="addNewType | safeHtml"></div>

    <button type="submit" class="btn btn-primary" [disabled]="!EditObservationForm.valid" (click)="updateObservation()">Save</button>

    <button class="btn btn-danger" (click)="deleteObservation(editObservation.id)">Delete</button>
</form>